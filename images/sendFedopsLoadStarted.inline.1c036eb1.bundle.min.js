(()=>{"use strict";const e="unknown",r=r=>{const t=(o=r.cache,s=r.varnish,`${o||e},${s||e}`);var o,s;return{caching:t,isCached:t.includes("hit"),...r.microPop?{microPop:r.microPop}:{}}},t=(t,o)=>{const s=(e=>{let r;try{r=e()}catch(e){r=[]}const t=r.reduce((e,r)=>(e[r.name]=r.description,e),{});return{cache:t.cache,varnish:t.varnish,microPop:t.dc}})(o);if(s.cache||s.varnish)return r({cache:s.cache||e,varnish:s.varnish||e,microPop:s.microPop});const n=(r=>{const t=r.match(/ssr-caching="?cache[,#]\s*desc=([\w-]+)(?:[,#]\s*varnish=(\w+))?(?:[,#]\s*dc[,#]\s*desc=([\w-]+))?(?:"|;|$)/);return t&&t.length?{cache:t[1],varnish:t[2]||e,microPop:t[3]}:null})(t);return n?r(n):{caching:e,isCached:!1}};function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)})}const s=e=>{let r=!1;if(!/\(iP(hone|ad|od);/i.test(window?.navigator?.userAgent))try{r=navigator.sendBeacon(e)}catch(e){}r||((new Image).src=e)};!function(){const{site:e,rollout:r,fleetConfig:n,requestUrl:i,isInSEO:a,shouldReportErrorOnlyInPanorama:c}=window.fedops.data,d=(e=>{const{userAgent:r}=e.navigator;return/instagram.+google\/google/i.test(r)?"":/bot|google(?!play)|phantom|crawl|spider|headless|slurp|facebookexternal|Lighthouse|PTST|^mozilla\/4\.0$|^\s*$/i.test(r)?"ua":""})(window)||(()=>{try{if(window.self===window.top)return""}catch(e){}return"iframe"})()||(()=>{if(!Function.prototype.bind)return"bind";const{document:e,navigator:r}=window;if(!e||!r)return"document";const{webdriver:t,userAgent:o,plugins:s,languages:n}=r;if(t)return"webdriver";if(!s||Array.isArray(s))return"plugins";if(Object.getOwnPropertyDescriptor(s,"0")?.writable)return"plugins-extra";if(!o)return"userAgent";if(o.indexOf("Snapchat")>0&&e.hidden)return"Snapchat";if(!n||0===n.length||!Object.isFrozen(n))return"languages";try{throw Error()}catch(e){if(e instanceof Error){const{stack:r}=e;if(r&&/ (\(internal\/)|(\(?file:\/)/.test(r))return"stack"}}return""})()||(a?"seo":""),p=!!d,{isCached:m,caching:l,microPop:u}=t(document.cookie,()=>performance.getEntriesByType("navigation")[0].serverTiming||[]),w={WixSite:1,UGC:2,Template:3}[e.siteType]||0,h=e.appNameForBiEvents,{isDACRollout:g,siteAssetsVersionsRollout:f}=r,x=g?1:0,v=f?1:0,S=0===n.code||1===n.code?n.code:null,y=2===n.code,I=Date.now()-window.initialTimestamps.initialTimestamp,b=Math.round(performance.now()),{visibilityState:$}=document,_=$,{fedops:O,addEventListener:T,thunderboltVersion:A}=window;O.apps=O.apps||{},O.apps[h]={startLoadTime:b},O.sessionId=e.sessionId,O.vsi=o(),O.is_cached=m,O.phaseStarted=E(28),O.phaseEnded=E(22),performance.mark("[cache] "+l+(u?" ["+u+"]":"")),O.reportError=(e,r="load")=>{const t=e?.reason||e?.message;t?(c||k(26,`&errorInfo=${t}&errorType=${r}`),R({error:{name:r,message:t,stack:e?.stack}})):e.preventDefault()},T("error",O.reportError),T("unhandledrejection",O.reportError);let P=!1;function k(r,t=""){if(i.includes("suppressbi=true"))return;const o="//frog.wix.com/bolt-performance?src=72&evid="+r+"&appName="+h+"&is_rollout="+S+"&is_company_network="+y+"&is_sav_rollout="+v+"&is_dac_rollout="+x+"&dc="+e.dc+(u?"&microPop="+u:"")+"&is_cached="+m+"&msid="+e.metaSiteId+"&session_id="+window.fedops.sessionId+"&ish="+p+"&isb="+p+(p?"&isbr="+d:"")+"&vsi="+window.fedops.vsi+"&caching="+l+(P?",browser_cache":"")+"&pv="+_+"&pn=1&v="+A+"&url="+encodeURIComponent(i)+"&st="+w+`&ts=${I}&tsn=${b}`+t;s(o)}function R({transaction:r,error:t}){const o=[{fullArtifactId:"com.wixpress.html-client.wix-thunderbolt",componentId:""+("Studio"===window.fedops.data.site.editorName?"wix-studio":"thunderbolt"+(window.fedops.data.site.isResponsive?"-responsive":"")),platform:"viewer",msid:window.fedops.data.site.metaSiteId,sessionId:window.fedops.vsi,sessionTime:Date.now()-window.initialTimestamps.initialTimestamp,logLevel:t?"ERROR":"INFO",message:t?.message??(r?.name&&`${r.name} START`),errorName:t?.name,errorStack:t?.stack,transactionName:r?.name,transactionAction:r&&"START",isSsr:!1,dataCenter:e.dc,isCached:!!m,isRollout:!!S,isHeadless:!!p,isDacRollout:!!x,isSavRollout:!!v,isCompanyNetwork:!!y}];try{const e=JSON.stringify({messages:o});return navigator.sendBeacon("https://panorama.wixapps.net/api/v1/bulklog",e)}catch(e){console.error(e)}}function E(e){return(r,t)=>{const o=`&name=${r}&duration=${Date.now()-I}`,s=t&&t.paramsOverrides?Object.keys(t.paramsOverrides).map(e=>e+"="+t.paramsOverrides[e]).join("&"):"";k(e,s?`${o}&${s}`:o)}}if(T("pageshow",({persisted:e})=>{e&&(P||(P=!0,O.is_cached=!0))},!0),window.__browser_deprecation__)return;const C=document.referrer?`&document_referrer=${document.referrer}`:"",N=window.sessionStorage.getItem("isMpa"),D=N?`&isMpa=${N}`:"";N&&window.sessionStorage.removeItem("isMpa");let M=window.sessionStorage.getItem("mpaSessionId");M||(M=o(),window.sessionStorage.setItem("mpaSessionId",M)),window.fedops.mpaSessionId=M,k(21,`&platformOnSite=${window.fedops.data.platformOnSite}&mpaSessionId=${M}${C}${D}`),R({transaction:{name:"PANORAMA_COMPONENT_LOAD"}})}()})();
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/sendFedopsLoadStarted.inline.1c036eb1.bundle.min.js.map